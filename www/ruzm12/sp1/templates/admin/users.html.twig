{% extends 'admin/base.html.twig' %}

{% block title %}Buldok | Správa uživatelů{% endblock %}

{% block body %}
<div class="container is-fluid mt-5">

    <div class="columns">
        <div class="column is-one-quarter">
            {% block admin_menu %}
            <aside class="menu">
                <p class="menu-label">Zápasy</p>
                <ul class="menu-list">
                    <li><a href={{ path("app_admin_matches") }}>Spravovat zápasy</a></li>
                </ul>
                <p class="menu-label">Uživatelé</p>
                <ul class="menu-list">
                    <li><a class="is-active" href={{ path("app_admin_users") }}>Spravovat uživatele</a></li>
                </ul>
                <p class="menu-label">Vstupy</p>
                <ul class="menu-list">
                    <li><a href={{ path("app_admin_entrances") }}>Spravovat vstupy</a></li>
                </ul>
            </aside>
            {% endblock %}
        </div>
        <div class="column">
            <div class="section">
                <h1 class="is-size-1 has-text-centered has-text-weight-bold">Uživatelé</h1>
                {% block admin_content %}
                <div class="table-container mt-3">
                    <table class="table is-striped is-fullwidth">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>Jméno</th>
                                <th>Příjmení</th>
                                <th>Upravit</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for user in users %}
                            <tr>
                                <td>{{ user.id }}</td>
                                <td>{{ user.email }}</td>
                                <td>
                                    {% for role in user.roles %}
                                    <span class="tag is-primary">{{ role }}</span>
                                    {% endfor %}
                                </td>
                                <td>{{ user.firstname }}</td>
                                <td>{{ user.lastname }}</td>
                                <td> <a class="button is-link" href={{ path("app_admin_user_edit", {email: user.email}) }}>Upravit</a> </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% endblock %}
            </div>
        </div>
    </div>


</div>
{% endblock %}